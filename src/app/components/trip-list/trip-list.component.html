
<!-- <button class="btn btn-success"(click)="test()">test</button> -->

<div class="row">
    <div class="col">
        <h3>Lista de Viajes</h3>
    </div>
</div>
<div class="row mb-4">
    <div class="col-3">
        <mat-form-field style="width: 100% !important">
            <input matInput [max]="maxDate" [min]="minDate" (click)="picker1.open()" [matDatepicker]="picker1" readonly 
                placeholder="Fecha de inicio" [(ngModel)]="startDate" style="cursor: pointer;">
            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
            <mat-datepicker #picker1 disabled="false"></mat-datepicker>
        </mat-form-field>
    </div>
    <div class="col-3">
        <mat-form-field style="width: 100% !important">
            <input matInput [max]="maxDate" [min]="startDate" (click)="picker2.open()" [matDatepicker]="picker2" 
                placeholder="Fecha de tÃ©rmino" [(ngModel)]="endDate" style="cursor: pointer;">
            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
            <mat-datepicker #picker2 disabled="false"></mat-datepicker>
        </mat-form-field>
    </div>
    <div class="col-3">
        <button class="btn btn-danger ml-2" (click)="searchReservationsByDate()" style="float: left;">
            Buscar
        </button>                    

    </div>
</div>

<div *ngIf="loading; else loadedItems">
    <div class="d-flex justify-content-center">
        <div class="spinner-border" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
    
</div>

<ng-template #loadedItems>
    <div *ngIf="tripsList.length > 0 || alertsList.length > 0">
        <mat-radio-group aria-label="Select an option" [(ngModel)]="inputTypeTrips">
            <mat-radio-button class="mr-2" value="1" (click)="typeListSelected(1)">Viajes</mat-radio-button>
            <mat-radio-button class="mr-2" value="2" (click)="typeListSelected(2)">Alertas</mat-radio-button>
        </mat-radio-group>
    </div>
    <div *ngIf="inputTypeTrips == 1">
        <app-trip-table [dataSource]="tripsList" [carriers]="carriers"></app-trip-table>
    </div>
    <div *ngIf="inputTypeTrips == 2">
        <app-alert-table [dataSource]="alertsList" [carriers]="carriersAlerts"></app-alert-table>
    </div>
</ng-template>

<div *ngIf="emptySearch">
    <h2>No records for this date</h2>
</div>

